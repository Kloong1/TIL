# HTTP API 설계 예시
HTTP 설계 예시를 살펴보자.

또 예시를 통해 POST를 사용한 등록과 PUT을 사용한 등록이 어떤 차이가 있는지도 살펴보자.

마지막으로 GET과 POST만 사용 가능하다는 제약이 있는 HTTP Form 환경에서 HTTP API를 어떻게 설계할 수 있는지 알아보자.

## 회원 관리 시스템 HTTP API 설계
![](스크린샷%202022-04-19%20오후%2011.28.18.png)

**URI는 리소스를 식별해야 한다! 동작/행위는 HTTP 메서드를 이용하자.**

### 회원 목록 조회
- 예시: `GET /members`
- 쿼리 파라미터를 추가해서 필터링 및 정렬도 가능하다.

### 회원 등록
- 예시: `POST /members`
- `/members` 이런 것을 컬렉션이라고 한다. 컬렉션에 데이터를 등록한다는 것이다.
- 회원의 정보는 메시지 바디에 넣으면 된다.

### 특정 회원 조회
- 예시: `GET /members/100`
- URI의 계층 구조를 이용해서 회원 id를 URI로 표현한다.
- id에 해당하는 회원을 조회한다.

### 회원 수정
- 예시: `PATCH /members/100`, `PUT /members/100`
- PATCH, PUT, POST의 메서드 전부 사용 가능하다.
- 개념적으로 리소스의 일부를 수정하는 메서드인 PATCH를 쓰는 것이 가장 좋다.
	- PUT은데이터를 완전히 덮어쓰기 때문에, 데이터의 일부가 소실될 위험성을 내재한다.
	- 게시판의 게시글을 수정할 때는, 수정한 게시글의 모든 내용을 전부 서버로 보내기 때문에 PUT을 사용하기 쉽다.
	- 이도 저도 애매하면 POST를 쓰면 된다.

### 회원 삭제
- 예시: `DELETE /members/100`
- URI의 계층 구조를 이용해서 회원 id를 URI로 표현한다.
- id에 해당하는 회원을 삭제한다.


## POST 신규 자원 등록 특징
- POST로 등록하는 경우, 클라이언트는 등록될 리소스의 URI를 모른다.
	- `POST /members` -> URI에 등록될 리소스의 URI에 대한 정보가 전혀 없다.
- 서버가 알아서 새로 등록된 리소스의 URI를 결정한다.
	- 응답 메시지를 보면 `Location: /members/100` 이런 헤더를 볼 수 있을 것이다. 이 URI가 새로 등록된 리소스의 URI이다.
- 이런 형식을 **컬렉션**이라고 한다.
	- 컬렉션: 서버가 관리하는 리소스 디렉토리
	- 서버가 리소스의 URI를 생성하고 관리
	- 이 예제에서 컬렉션은 `/members`

## PUT 신규 자원 등록 특징
