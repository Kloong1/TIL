# 메시지, 국제화 소개

## 프로젝트 설정
스프링 통합과 폼에서 개발한 상품 관리 프로젝트를 일부 수정해서 사용한다. 메시지, 국제화 예제에 집중하기 위해서 체크박스, 라디오 버튼, 셀렉트 박스 기능은 제거했다.


## 메시지
만약 악덕? 기획자가 화면에 보이는 문구가 마음에 들지 않는다고, `상품명`이라는 단어를 모두 `상품이름`으로 고쳐달라고 하면 어떻게 해야할까?

여러 화면에 보이는 상품명, 가격, 수량 등, `label` 에 있는 단어를 변경하려면 다음 화면들을 다 찾아가면서 모두 변경해야 한다.

지금처럼 화면 수가 적으면 문제가 되지 않지만 화면이 수십, 수백개라면...? 고쳐져서는 안될 문구가 고쳐질 수도 있고, 파일을 빼먹을 수도 있고... 쉽지 않을 것이다.

우리가 작성한 HTML 파일은 메시지가 하드코딩 되어있기 때문에 이러한 문제가 발생한다.

**이런 다양한 메시지를 한 곳에서 관리할 수 있게 하는 기능을 메시지 기능이라고 한다.**

예를 들어 `messages.properties` 라는 메시지 관리용 파일이 있다고 하자.

##### messages.properties
```
item=상품
item.id=상품 ID
item.itemName=상품명
item.price=가격
item.quantity=수량
```

이런 내용의 메시지 관리용 파일을 만든 뒤, HTML 파일에서 해당 데이터를 key 값으로 불러서 사용하는 것이다.

##### 이런 방식으로 사용할 수 있을 것이다
```HTML
<label for="itemName" th:text="#{item.itemName}"></label>
```


## 국제화
메시지 기능에서 한 발 더 나가보자. 위에서 설명한 메시지 파일(`messages.properties`)을 각 나라별로 따로 만들어서 관리하면, 제공하는 웹 페이지를 국제화 할 수 있다.

예를 들어서 다음과 같이 2개의 파일을 만들어서 분류한다.

##### messages_en.properties
```
item=Item
item.id=Item ID
item.itemName=Item Name
item.price=price
item.quantity=quantity
```

##### messages_ko.properties
```
item=상품
item.id=상품 ID
item.itemName=상품명
item.price=가격
item.quantity=수량
```

영어권에서 웹 페이지에 접속하면 `messages_en.properties` 파일을 사용해서 렌더링하고, 한국에서 웹 페이지에 접속하면`messages_kr.properties` 를 사용해서 렌더링하게 개발을 하면 국제화가 가능해진다.

HTTP `accept-language` 해더 값을 확인하거나, 사용자가 직접 언어를 선택하도록 하고, 쿠키 등을 사용해서 처리하면 사용자가 원하는 언어를 알아낼 수 있다.


## Spring이 제공하는 메시지 기능과 국제화 기능
메시지와 국제화 기능을 직접 구현할 수도 있겠지만, 스프링은 기본적인 메시지와 국제화 기능을 모두 제공한다. 그리고 타임리프도 스프링이 제공하는 메시지와 국제화 기능을 편리하게 통합해서 제공한다. 지금부터 스프링이 제공하는 메시지와 국제화 기능을 알아보자.